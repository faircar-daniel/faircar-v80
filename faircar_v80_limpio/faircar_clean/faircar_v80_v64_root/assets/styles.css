html{color-scheme:dark;height:100%;background-color:var(--bgBottom,#050b12);background-image:linear-gradient(180deg,var(--bgTop,#081522) 0%,var(--bgBottom,#050b12) 100%);}
html[data-theme="day"]{color-scheme:light;}
html[data-theme="ocean"]{color-scheme:dark;}
/* FairCar v1 — static, Netlify-ready */
:root{
  color-scheme: dark;
  --bg:#081522;
  --card:#0c1b2c;
  --muted:#b3c5d6;
  --text:#eaf2ff;
  --line:rgba(234,242,255,.14);
  --blue:#0b5fff;
  --teal:#2dd4bf;
  --shadow: 0 10px 28px rgba(2,6,23,.25);
  --radius:18px;

  --blue2:#3b82f6;
  --bgTop:#081522;
  --bgBottom:#050b12;
  --bgRad1: rgba(11,95,255,.22);
  --bgRad2: rgba(45,212,191,.18);
  --topbarBg: rgba(5,11,18,.78);
  --glass: rgba(255,255,255,.06);
  --glassHover: rgba(255,255,255,.09);
  --cardGlass: rgba(12,27,44,.72);
  --storyCard: rgba(12,27,44,.65);
  --blueSoft: rgba(11,95,255,.16);
  --blueSoft2: rgba(11,95,255,.12);
  --blueSoftBorder: rgba(11,95,255,.25);
  --tealSoft: rgba(45,212,191,.10);
  --tealSoftBorder: rgba(45,212,191,.20);
  --noteText: #eaf2ff;
  --lead:#dbeafe;
  --wheel:#0b1220;
  --ring: rgba(255,255,255,.22);
}

/* Themes */
html[data-theme="day"]{
  --bg:#f6f7fb;
  --card:#ffffff;
  --muted:#475569;
  --text:#0b1220;
  --line:rgba(15,23,42,.12);
  --blue:#0b5fff;
  --teal:#2dd4bf;
  --blue2:#3b82f6;
  --shadow: 0 10px 28px rgba(2,6,23,.10);
  --bgTop:#f6f7fb;
  --bgBottom:#e9eef7;
  --bgRad1: rgba(11,95,255,.16);
  --bgRad2: rgba(45,212,191,.12);
  --topbarBg: rgba(255,255,255,.82);
  --glass: rgba(15,23,42,.04);
  --glassHover: rgba(15,23,42,.06);
  --cardGlass: rgba(255,255,255,.88);
  --storyCard: rgba(255,255,255,.92);
  --blueSoft: rgba(11,95,255,.10);
  --blueSoft2: rgba(11,95,255,.08);
  --blueSoftBorder: rgba(11,95,255,.18);
  --tealSoft: rgba(45,212,191,.10);
  --tealSoftBorder: rgba(45,212,191,.18);
  --noteText: #0b1220;
  --lead:#1f2937;
  --wheel:#111827;
  --ring: rgba(15,23,42,.18);
}
html[data-theme="ocean"]{
  --bg:#061a1c;
  --card:#072127;
  --muted:#a9c7c6;
  --text:#e6fffb;
  --line:rgba(230,255,251,.14);
  --blue:#2dd4bf;
  --teal:#0b5fff;
  --blue2:#3b82f6;
  --shadow: 0 10px 28px rgba(0,0,0,.35);
  --bgTop:#061a1c;
  --bgBottom:#041011;
  --bgRad1: rgba(45,212,191,.22);
  --bgRad2: rgba(11,95,255,.18);
  --topbarBg: rgba(4,16,17,.78);
  --glass: rgba(255,255,255,.06);
  --glassHover: rgba(255,255,255,.10);
  --cardGlass: rgba(7,33,39,.72);
  --storyCard: rgba(7,33,39,.62);
  --blueSoft: rgba(45,212,191,.16);
  --blueSoft2: rgba(45,212,191,.12);
  --blueSoftBorder: rgba(45,212,191,.25);
  --tealSoft: rgba(11,95,255,.10);
  --tealSoftBorder: rgba(11,95,255,.20);
  --noteText: #e6fffb;
  --lead:#ccfbf1;
  --wheel:#041011;
  --ring: rgba(45,212,191,.45);
}


*{box-sizing:border-box}
body{
  margin:0;
  font-family: ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,"Apple Color Emoji","Segoe UI Emoji";
  background: radial-gradient(1200px 700px at 30% -10%, var(--bgRad1), transparent 55%),
              radial-gradient(900px 600px at 100% 10%, var(--bgRad2), transparent 50%),
              linear-gradient(180deg, var(--bgTop) 0%, var(--bgBottom) 100%);
  color:var(--text);

  min-height:100vh;
}

.topbar{
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:14px 18px;
  border-bottom:1px solid var(--line);
  position:sticky; top:0;
  background: var(--topbarBg);
  backdrop-filter: blur(10px);
  z-index:10;
}
/* Theme switcher */
.theme-switch{display:flex;align-items:center;gap:8px}
.theme-label{font-size:12px;font-weight:900;letter-spacing:.2px;color:var(--muted)}
.theme-dots{display:flex;gap:6px;align-items:center}
.theme-dot{
  width:18px;height:18px;border-radius:999px;
  border:1px solid var(--line);
  cursor:pointer;
  padding:0;
}
.theme-dot.is-active{box-shadow: 0 0 0 2px var(--ring);}
.theme-dot[data-theme-pick="night"]{background: conic-gradient(from 90deg, #0b5fff 0 50%, #2dd4bf 50% 100%);}
.theme-dot[data-theme-pick="day"]{background: conic-gradient(from 90deg, #f6f7fb 0 50%, #0b5fff 50% 100%);}
.theme-dot[data-theme-pick="ocean"]{background: conic-gradient(from 90deg, #2dd4bf 0 50%, #0b5fff 50% 100%);}

.brand{display:flex;gap:12px;align-items:center}
.brand-logo-img{height:38px;width:auto;display:block}
html[data-theme="day"] .brand-logo-img{filter: drop-shadow(0 2px 6px rgba(2,6,23,.22));}
@media (max-width: 520px){.brand-logo-img{height:34px}}
.logo{
  width:44px;height:44px;border-radius:12px;
  background: var(--glass);
  border:1px solid var(--line);
  display:grid;place-items:center;
  overflow:hidden;
}
.logo svg{width:44px;height:44px}
.brand-name{font-weight:900;letter-spacing:.3px;font-size:18px}
.brand-sub{color:var(--muted);font-size:12px;margin-top:2px}

.pill{
  padding:8px 12px;
  border-radius:999px;
  border:1px solid var(--line);
  background: var(--glass);
  color: var(--text);
  font-weight:700;
  font-size:12px;
}

.container{max-width:1100px;margin:0 auto;padding:18px}

.card{
  background: var(--cardGlass);
  border:1px solid var(--line);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
}

.hero{
  display:grid;
  grid-template-columns: 1.05fr .95fr;
  gap:18px;
  padding:18px;
}
@media (max-width: 980px){
  .hero{grid-template-columns:1fr}
}

.hero-left{padding:8px 10px}
.hero h1{margin:8px 0 10px;font-size:40px;line-height:1.05;letter-spacing:-.5px}
.lead{color:var(--lead);font-size:16px;line-height:1.5;margin:0 0 14px}
.bullets{display:grid;gap:10px;margin-top:10px}
.bullet{
  display:flex;gap:12px;align-items:flex-start;
  padding:12px;
  border-radius:14px;
  background: var(--glass);
  border:1px solid var(--line);
}
.b-ico{width:38px;height:38px;border-radius:12px;background: var(--blueSoft); display:grid;place-items:center; font-size:18px}
.b-title{font-weight:900}
.b-text{color:var(--muted);font-size:13px;margin-top:2px}

.cta-row{display:flex;gap:10px;margin-top:14px;flex-wrap:wrap}
.btn{
  appearance:none;border:1px solid transparent;cursor:pointer;
  padding:12px 14px;border-radius:14px;font-weight:900;
  display:inline-flex;align-items:center;justify-content:center;gap:10px;
  text-decoration:none;color:inherit;
}
.btn.primary{
  background: linear-gradient(135deg, var(--blue), var(--blue2));
  border-color: rgba(255,255,255,.14);
  color:white;
}
.btn.primary:hover{filter:brightness(1.03)}
.btn.ghost{
  background: var(--glass);
  border-color: var(--line);
  color: var(--text);
}
.btn.ghost:hover{background: var(--glassHover)}
.btn:disabled{opacity:.55;cursor:not-allowed}

.note{
  margin-top:12px;
  padding:12px;
  border-radius:14px;
  background: var(--tealSoft);
  border:1px solid var(--tealSoftBorder);
  color:var(--noteText);
  font-size:13px;
  line-height:1.45;
}

/* Variantes de nota (para mantener coherencia con temas) */
.note.note-blue{
  background: var(--blueSoft2);
  border-color: var(--blueSoftBorder);
  color: var(--text);
}
.note.note-warn{
  background: rgba(245,158,11,.12);
  border-color: rgba(245,158,11,.28);
  color: var(--text);
}

/* Importador de presupuesto (paso 1) */
.imp-row{display:flex;gap:12px;align-items:flex-start;justify-content:space-between;flex-wrap:wrap}
.imp-copy{min-width:240px;flex:1 1 auto}
.imp-title{font-weight:900;font-size:15px;margin-bottom:6px}
.imp-actions{display:flex;gap:8px;flex-wrap:wrap;flex:0 0 auto}

.hero-right{padding:8px}
.panel{
  border-radius:16px;
  background: var(--glass);
  border:1px solid var(--line);
  overflow:hidden;
}
.panel-top{
  display:flex;
  gap:10px;
  padding:12px;
  border-bottom:1px solid var(--line);
  flex-wrap:wrap;
}
.badge{
  padding:8px 10px;border-radius:999px;font-weight:900;font-size:12px;
  border:1px solid var(--line);
  background: var(--glass);
}
.badge.ok{background: rgba(34,197,94,.12); border-color: rgba(34,197,94,.22)}
.badge.warn{background: rgba(245,158,11,.12); border-color: rgba(245,158,11,.22)}

.story{
  display:grid;
  gap:10px;
  padding:12px;
  grid-template-columns: 1fr 1fr 1fr;
}
@media (max-width: 980px){
  .story{grid-template-columns:1fr}
}
.story-card{
  background: var(--storyCard);
  border:1px solid var(--line);
  border-radius:14px;
  padding:12px;
}
.story-card.highlight{
  background: var(--blueSoft2);
  border-color: var(--blueSoftBorder);
}
.story-title{font-weight:900;margin-bottom:8px}
.story-item{
  display:flex;justify-content:space-between;gap:10px;
  padding:6px 0;border-bottom:1px dashed rgba(148,163,184,.18);
  font-size:13px;
}
.story-item:last-child{border-bottom:none}
.story-item .k{color:var(--muted)}
.story-item .v{font-weight:900}
.mini{color:var(--muted);font-size:12px;margin-top:8px}

.panel-foot{padding:10px 12px;border-top:1px solid var(--line)}
.small{color:var(--muted);font-size:12px;line-height:1.45}
.footerline{margin-top:16px;padding:10px 2px}

/* Wizard */
.progress{
  height:10px;border-radius:999px;background: var(--glass);
  border:1px solid var(--line);
  overflow:hidden;
}
.progress-bar{height:100%;background: linear-gradient(90deg,var(--blue),var(--teal));}

.section-title{
  font-weight:1000;
  font-size:16px;
  letter-spacing:.2px;
  margin:4px 0 10px;
}

.nav{
  display:flex;justify-content:space-between;gap:10px;margin-top:14px;
}

.step{padding:12px;}
.step h2{margin:6px 0 6px;font-size:22px;letter-spacing:-.3px}
.step p{margin:0;color:var(--muted);line-height:1.45}

.grid2{display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-top:12px}
@media (max-width: 900px){ .grid2{grid-template-columns:1fr} }

/* Mantener 2 columnas en filas numéricas clave (financiación)
   (en móvil NO colapsa a 1 columna: así "va en la misma línea" siempre) */
.grid2.keep2{grid-template-columns:minmax(0,1fr) minmax(0,1fr);}
@media (max-width: 900px){
  /* En móvil reducimos tipografías/padding para que quepa bien */
  .grid2.keep2{grid-template-columns:minmax(0,1fr) minmax(0,1fr);gap:10px;}
  .grid2.keep2 .input{padding:9px 9px;}
  .grid2.keep2 .label{font-size:12px;line-height:1.15;}
}


.cardopt{
  padding:14px;border-radius:16px;
  background: var(--glass);
  border:1px solid var(--line);
  cursor:pointer;
  display:flex;gap:12px;align-items:flex-start;
  min-height:84px;
}
.cardopt:hover{background: var(--glassHover)}
.cardopt.active{
  border-color: rgba(11,95,255,.45);
  background: rgba(11,95,255,.10);
}
.opt-ico{width:40px;height:40px;border-radius:14px;background: var(--glass);display:grid;place-items:center;font-size:18px;border:1px solid var(--line)}
.opt-title{font-weight:1000}
.opt-desc{color:var(--muted);font-size:12px;margin-top:3px}

.field{margin-top:12px;}
.label{font-weight:900;font-size:13px;margin-bottom:6px}
.input, select{
  color-scheme: dark;
  width:100%;
  padding:12px 12px;
  border-radius:14px;
  border:1px solid var(--line);
  background: var(--glass);
  color: var(--text);
  outline:none;

}
select{ color-scheme: dark; }
select option{ background-color: var(--card); color: var(--text); }
optgroup{ background-color: var(--card); color: var(--text); }
select, option, optgroup{ background-color: var(--card) !important; color: var(--text) !important; }


.input::placeholder{color: rgba(148,163,184,.75)}
.row{display:flex;gap:10px;align-items:center;justify-content:space-between;}
.row .value{font-weight:1000}
.slider{width:100%;margin-top:10px;accent-color: var(--teal);}

.irpf-control{display:grid;gap:10px}
.irpf-top{display:flex;align-items:center;justify-content:space-between;gap:10px}
.irpf-right{display:flex;align-items:center;gap:8px}
.irpf-right input{width:90px}
.irpf-range{width:100%;accent-color: var(--teal);}

.hint{margin-top:8px;color:var(--muted);font-size:12px}

.two-cols{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:12px;
  padding:14px;
}
@media (max-width: 980px){ .two-cols{grid-template-columns:1fr} }

.col{
  border-radius:16px;
  border:1px solid var(--line);
  background: rgba(255,255,255,.05);
  padding:12px;
}
.col-head{display:flex;justify-content:space-between;gap:10px;align-items:flex-start}
.col-title{font-weight:1000}
.col-sub{color:var(--muted);font-size:12px}

.kpi{margin-top:10px;padding:12px;border-radius:16px;background: rgba(34,197,94,.10);border:1px solid rgba(34,197,94,.22)}
.kpi-label{color:#d1fae5;font-weight:900;font-size:12px}
.kpi-value{font-weight:1100;font-size:28px;margin-top:4px;color:#ecfdf5}
.kpi-sub{margin-top:6px;font-size:12px;color:rgba(236,253,245,.85);font-weight:800}


.details{margin-top:10px;border-radius:14px;border:1px solid var(--line);background: rgba(255,255,255,.04);padding:10px}
.details summary{cursor:pointer;font-weight:1000}

/* Auto+ callout: brillante solo antes de desplegar */
.details.autoplus-details:not([open]){
  border:1px solid rgba(56,189,248,.45);
  background: linear-gradient(180deg, rgba(56,189,248,.14), rgba(255,255,255,.04));
  box-shadow: 0 10px 30px rgba(56,189,248,.08);
}
.details.autoplus-details[open]{
  border:1px solid var(--line);
  background: rgba(255,255,255,.04);
  box-shadow: none;
}
.details.autoplus-details summary{
  padding:4px 2px;
  font-size:15px;
}
.autoplus-confirm{
  display:flex;
  align-items:center;
  gap:10px;
  margin-top:12px;
  padding:10px 12px;
  border-radius:12px;
  border:1px dashed rgba(56,189,248,.55);
  background: rgba(56,189,248,.10);
  font-weight:900;
}
.autoplus-confirm input{width:18px;height:18px}
.details.autoplus-details.needs-attention{
  animation: autoplusPulse .7s ease-in-out 0s 2;
}
@keyframes autoplusPulse{
  0%{transform:translateY(0);}
  50%{transform:translateY(-2px);}
  100%{transform:translateY(0);}
}
.rows{margin-top:8px;display:grid;gap:8px}
.r{
  display:flex;justify-content:space-between;gap:10px;
  padding:8px;border-radius:12px;border:1px solid rgba(148,163,184,.16);
  background: rgba(15,23,42,.4);
}
.r .k{color:var(--muted);font-size:12px}
.r .v{font-weight:1000}
.v.good{color:#86efac}
.v.bad{color:#fca5a5}

.recommend{
  margin:14px;
  padding:14px;
  border-radius:16px;
  border:1px solid rgba(59,130,246,.25);
  background: rgba(59,130,246,.08);
}
.recommend-title{font-weight:1100}
.recommend-text{margin-top:6px;color:#dbeafe;line-height:1.45}
hr.sep{border:none;border-top:1px solid var(--line);margin:12px 0}


/* Autocompletado propio (reemplaza datalist, mejor en Android) */
.ac-wrap{ position:relative; }
.ac-wrap .input{ width:100%; }
.ac-menu{
  position:absolute;
  left:0; right:0;
  top: calc(100% + 6px);
  border-radius:14px;
  border:1px solid var(--line);
  background: rgba(15,23,42,.96);
  box-shadow: 0 16px 40px rgba(0,0,0,.45);
  overflow:auto;
  max-height: 240px;
  z-index: 9999;
  backdrop-filter: blur(10px);
}
.ac-item{
  padding:10px 12px;
  cursor:pointer;
  border-bottom:1px solid rgba(148,163,184,.14);
  font-weight:900;
  font-size:13px;
}
.ac-item:last-child{ border-bottom:none; }
.ac-item:hover,
.ac-item.active{
  background: rgba(11,95,255,.14);
}


.quota-check{
  margin-top:12px;
  padding:10px 12px;
  border-radius:14px;
  border:1px solid var(--line);
  background: rgba(255,255,255,.05);
  font-weight:900;
  font-size:13px;
}
.quota-check.good{
  background: rgba(34,197,94,.12);
  border-color: rgba(34,197,94,.25);
}
.quota-check.bad{
  background: rgba(239,68,68,.12);
  border-color: rgba(239,68,68,.25);
}

.mismatch-box{
  margin-top:12px;
  padding:12px;
  border-radius:16px;
  border:1px solid rgba(245,158,11,.28);
  background: rgba(245,158,11,.10);
}
.mismatch-head{
  font-weight: 1000;
  font-size: 14px;
  margin-bottom: 8px;
}
.mismatch-body{ font-size: 13px; line-height: 1.45; }
.mismatch-line{ margin-top: 6px; }
.mismatch-sub{
  margin-top: 10px;
  font-weight: 900;
}
.mismatch-list{
  margin: 8px 0 0 18px;
  color: var(--text);
}
.mismatch-list li{ margin: 6px 0; }
.tae-box{
  margin-top:10px;
  padding:10px 12px;
  border-radius:14px;
  border:1px solid var(--line);
  background: rgba(255,255,255,.04);
}
.tae-box.good{
  background: rgba(34,197,94,.10);
  border-color: rgba(34,197,94,.22);
}
.tae-box.warn{
  background: rgba(245,158,11,.12);
  border-color: rgba(245,158,11,.25);
}
.tae-box.bad{
  background: rgba(239,68,68,.10);
  border-color: rgba(239,68,68,.22);
}

/* --- Servicio seguro de vida (financiación) --- */
.service-box{
  margin-top:12px;
  padding:12px;
  border-radius:16px;
  border:1px dashed rgba(148,163,184,.28);
  background: rgba(255,255,255,.04);
}
.service-title{
  font-weight:1000;
  font-size:14px;
  margin-bottom:8px;
}
.service-kicker{ color: var(--muted); font-size:12px; line-height:1.45; }
.service-steps{ margin:8px 0 0 18px; }
.service-steps li{ margin:6px 0; }
.service-check{ display:flex; gap:10px; align-items:flex-start; margin-top:10px; cursor:pointer; }
.service-check input{ margin-top:3px; }
.service-panel{ margin-top:10px; padding-top:10px; border-top:1px solid rgba(148,163,184,.20); }
.service-price{ font-weight:1000; }
.service-note{ color: var(--muted); font-size:12px; line-height:1.45; margin-top:8px; }

select{ color-scheme: dark; }

/* --- Car images / PDF blocks --- */
.car-head{ display:flex; gap:12px; align-items:center; }
.car-img{
  width:96px; height:54px;
  object-fit:cover;
  border-radius:14px;
  border:1px solid rgba(148,163,184,.22);
  background: rgba(15,23,42,.55);
}
.pdf-only{ display:none; }
.screen-only{ display:block; }

/* PDF layout (solo en impresión) */
.pdf-wrap{ padding: 14px 2px; }
.pdf-header{ display:flex; justify-content:space-between; align-items:flex-start; gap:12px; margin-bottom:12px; }
.pdf-title{ font-size:20px; font-weight:800; letter-spacing:-.02em; }
.pdf-sub{ font-size:12px; color:#475569; margin-top:2px; }
.pdf-grid{ display:grid; grid-template-columns:1fr 1fr; gap:12px; }
.pdf-card{ border:1px solid #e5e7eb; border-radius:14px; padding:12px; background:#fff; }
.pdf-car-top{ display:flex; gap:12px; align-items:center; }
.pdf-car-img{ width:160px; height:90px; object-fit:cover; border-radius:12px; border:1px solid #e5e7eb; background:#f1f5f9; }
.pdf-car-name{ font-size:14px; font-weight:800; color:#0f172a; }
.pdf-car-meta{ font-size:12px; color:#475569; margin-top:2px; }
.pdf-kpis{ display:grid; grid-template-columns:1fr 1fr; gap:10px; margin-top:10px; }
.pdf-kpi{ border:1px solid #e5e7eb; border-radius:12px; padding:10px; background:#f8fafc; }
.pdf-kpi .l{ font-size:11px; color:#475569; }
.pdf-kpi .v{ font-size:16px; font-weight:900; color:#0f172a; margin-top:2px; }
.pdf-badges{ display:flex; gap:6px; flex-wrap:wrap; margin-top:8px; }
.pdf-badge{ font-size:11px; padding:4px 8px; border-radius:999px; border:1px solid #e5e7eb; background:#fff; color:#334155; }
.pdf-badge.good{ border-color: rgba(34,197,94,.35); background: rgba(34,197,94,.10); }
.pdf-badge.warn{ border-color: rgba(245,158,11,.35); background: rgba(245,158,11,.10); }
.pdf-badge.bad{ border-color: rgba(239,68,68,.35); background: rgba(239,68,68,.08); }

.pdf-rec{ margin-top:12px; border:1px solid #e5e7eb; border-radius:14px; padding:12px; background:#f1f5f9; }
.pdf-rec h3{ margin:0 0 6px 0; font-size:14px; color:#0f172a; }
.pdf-rec p{ margin:0; color:#0f172a; }
.pdf-rec ul{ margin:8px 0 0 18px; color:#0f172a; }
.pdf-note{ margin-top:10px; font-size:11px; color:#475569; }



/* ---- Print: solo comparativa ---- */
@media print {
  body.print-compare{ background:#fff !important; color:#0f172a !important; }
  body.print-compare *{ color:#0f172a; }
  body.print-compare .small,
  body.print-compare .col-sub,
  body.print-compare .kpi-label,
  body.print-compare .k{ color:#475569 !important; }

  body.print-compare .pdf-only{ display:block !important; }
  body.print-compare .screen-only{ display:none !important; }

  body.print-compare .topbar{ border-bottom:1px solid #e5e7eb !important; }
  body.print-compare .brand-sub{ color:#475569 !important; }

  body.print-compare .card,
  body.print-compare .col,
  body.print-compare .recommend,
  body.print-compare .kpi,
  body.print-compare .details{ background:#fff !important; }

  body.print-compare .kpi{ border-color:#e5e7eb !important; }
  body.print-compare .rows .r{ border-color:#e5e7eb !important; }

  body.print-compare header,
  body.print-compare .nav,
  body.print-compare #stepMount,
  body.print-compare .footerline,
  body.print-compare #resultsSingleCard,
  body.print-compare #btnDownloadPdf { display:none !important; }

  body.print-compare #resultsCompareCard { 
    display:block !important;
    margin-top:0 !important;
    box-shadow:none !important;
    border:0 !important;
  }

  body.print-compare .container{
    max-width: none !important;
    padding: 0 !important;
  }

  body.print-compare .card{
    box-shadow:none !important;
    border:0 !important;
  }
  body.print-compare #resultsCompareCard .two-cols,
  body.print-compare #resultsCompareCard .section-title,
  body.print-compare #resultsCompareCard .recommend-title,
  body.print-compare #resultsCompareCard .recommend-text { display:none !important; }

  /* ---- Print: solo estudio (recomendación) ---- */
  body.print-study{ background:#fff !important; color:#0f172a !important; }
  body.print-study *{ color:#0f172a; }
  body.print-study .small,
  body.print-study .smallmuted,
  body.print-study .kpi-label,
  body.print-study .k{ color:#475569 !important; }

  body.print-study .pdf-only{ display:block !important; }
  body.print-study .screen-only{ display:none !important; }

  body.print-study header,
  body.print-study .nav,
  body.print-study .footerline{ display:none !important; }

  /* Oculta todo el estudio excepto el bloque PDF */
  body.print-study #faircarStudyMount > *{ display:none !important; }
  body.print-study #pdfStudyBlock{ display:block !important; }

  body.print-study main.wrap{ max-width:none !important; padding:0 !important; }
  body.print-study .card{ box-shadow:none !important; border:0 !important; }

}

.hint.is-big{font-size:16px;line-height:1.35;color:var(--text);font-weight:800}


/* FairCar Study */
.verdict-hero{
  display:flex;
  gap:14px;
  align-items:flex-start;
  padding:14px;
  border:1px solid var(--line);
  border-radius:16px;
  background: linear-gradient(135deg, rgba(11,95,255,.18), rgba(45,212,191,.10));
}
.medal{
  width:54px;height:54px;border-radius:16px;
  display:flex;align-items:center;justify-content:center;
  background: rgba(2,6,23,.35);
  border:1px solid rgba(148,163,184,.22);
  box-shadow: var(--shadow);
  flex:0 0 auto;
  font-size:28px;
}
.verdict-title{font-size:22px;font-weight:800;margin:0}
.verdict-sub{margin:6px 0 0 0;color:var(--muted);line-height:1.4}
.badges{display:flex;gap:8px;flex-wrap:wrap;margin-top:10px}
.badge{
  display:inline-flex;align-items:center;gap:8px;
  padding:6px 10px;border-radius:999px;
  border:1px solid rgba(148,163,184,.22);
  background: rgba(2,6,23,.30);
  color: var(--text);
  font-size:13px;
}
.badge.good{border-color: rgba(45,212,191,.35)}
.badge.warn{border-color: rgba(251,191,36,.35)}
.badge.bad{border-color: rgba(239,68,68,.35)}
.grid-2{display:grid;grid-template-columns:1fr 1fr;gap:12px}
@media (max-width: 860px){ .grid-2{grid-template-columns:1fr} }
.card-mini{
  border:1px solid var(--line);
  border-radius:16px;
  padding:12px;
  background: rgba(2,6,23,.18);
}
.card-mini h3{margin:0 0 6px 0;font-size:14px;color:var(--muted);font-weight:700;text-transform:uppercase;letter-spacing:.06em}
.big-number{font-size:24px;font-weight:900;margin:0}
.reason-list{display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-top:12px}
@media (max-width: 860px){ .reason-list{grid-template-columns:1fr} }
.reason{
  border:1px solid var(--line);
  border-radius:16px;
  padding:12px;
  background: rgba(2,6,23,.14);
}
.reason-title{font-weight:800;margin:0 0 6px 0}
.reason-text{margin:0;color:var(--text);line-height:1.45}
.split{
  display:flex;gap:10px;flex-wrap:wrap;align-items:center;justify-content:space-between;
  margin-top:12px;
}
.hr{height:1px;background:var(--line);margin:14px 0}
.checklist{margin:10px 0 0 0;padding-left:18px;color:var(--text)}
.checklist li{margin:6px 0;color:var(--text)}
.smallmuted{color:var(--muted);font-size:13px;line-height:1.45}


/* Versión manual (Paso coche) */
.manual-version-box{margin-top:12px;padding:12px;border:1px solid var(--line);border-radius:16px;background:rgba(255,255,255,.03);}
.manual-version-top{display:flex;justify-content:space-between;align-items:center;gap:10px;flex-wrap:wrap;}

.muted{opacity:.7;font-size:.92em;}

/* --- Decision profile picker (FairCar) --- */
.seg-wrap{border:1px solid var(--line);background:var(--card);border-radius:16px;padding:14px;}
.seg-head{font-weight:900;letter-spacing:-0.01em;margin-bottom:10px;}
.seg-grid{display:grid;grid-template-columns:repeat(4,minmax(0,1fr));gap:10px;}
.seg-grid.compact{grid-template-columns:repeat(4,minmax(0,1fr));}
@media (max-width: 860px){ .seg-grid,.seg-grid.compact{grid-template-columns:repeat(2,minmax(0,1fr));} }
.seg-btn{width:100%;text-align:left;border:1px solid var(--line);background:rgba(255,255,255,.03);border-radius:14px;padding:10px 12px;cursor:pointer;}
.seg-btn:hover{border-color:rgba(99,102,241,.45);}
.seg-btn.active{border-color:rgba(99,102,241,.78);box-shadow:0 0 0 3px rgba(99,102,241,.12);}
.seg-title{font-weight:900;}
.seg-sub{margin-top:4px;font-size:12px;color:var(--muted);line-height:1.35;}
.seg-grid.compact .seg-sub{display:none;}

.decision-mini{margin-top:10px;}
.decision-row{display:flex;align-items:baseline;justify-content:space-between;gap:10px;padding:6px 0;border-top:1px dashed rgba(148,163,184,.28);}
.decision-row:first-child{border-top:none;}
.decision-row span{color:var(--muted);}
.decision-row.main{margin-top:6px;padding-top:10px;border-top:1px solid rgba(148,163,184,.28);font-weight:800;}


/* Perfil — barra desplegable de detalles (cerrada por defecto) */
.fc-details{
  margin-top:10px;
  border-radius:14px;
  border:1px solid var(--line);
  background: rgba(255,255,255,.04);
  padding:0;
  overflow:hidden;
}
.fc-details summary{
  cursor:pointer;
  font-weight:900;
  padding:12px 14px;
  display:flex;
  align-items:center;
  justify-content:space-between;
}
.fc-details summary::-webkit-details-marker{display:none}
.fc-details summary::after{
  content:"▾";
  opacity:.75;
  transition: transform .15s ease;
}
.fc-details[open] summary::after{transform: rotate(180deg)}
.fc-details-body{
  padding:10px 14px 14px;
  border-top:1px solid var(--line);
}

/* Auto+ — "Ajustes Auto+" destacado (verde) */
.fc-details.autoplus-calc summary{
  background: rgba(34,197,94,.12);
  border-bottom: 1px solid rgba(34,197,94,.22);
}
.fc-details.autoplus-calc summary span:first-child{
  color: rgba(187,247,208,.98);
}
.fc-details.autoplus-calc summary .small{
  color: rgba(187,247,208,.85);
}
.fc-kv{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:10px 12px;
}
.fc-kv-item .k{
  color: var(--muted);
  font-size:12px;
}
.fc-kv-item .v{
  font-size:14px;
  line-height:1.25;
}
@media (max-width:560px){
  .fc-kv{grid-template-columns:1fr}
}

/* Info (botón 'i') en etiquetas de campos */
.label-row{display:flex;align-items:center;justify-content:space-between;gap:10px}
.label-text{flex:1;min-width:0}
.infoBtn{
  width:18px;height:18px;
  border-radius:999px;
  border:1px solid var(--line);
  background: var(--glass);
  color: var(--text);
  font-weight:1000;
  font-size:12px;
  line-height:16px;
  padding:0;
  cursor:pointer;
}
.infoBtn:hover{background: rgba(255,255,255,.10)}
.infoPanel{margin-top:6px}

/* ─── FairCar Analysis Blocks (v78) ─────────────────────────────────────── */
.fc-block{
  border:1px solid var(--line);
  border-radius:18px;
  padding:16px;
  background:var(--card);
  margin-bottom:4px;
}
.fc-block-head{
  display:flex;
  gap:12px;
  align-items:flex-start;
}
.fc-block-ico{
  font-size:26px;
  flex:0 0 auto;
  width:44px;height:44px;
  display:flex;align-items:center;justify-content:center;
  border-radius:12px;
  background:var(--glass);
  border:1px solid var(--line);
}
.fc-block-title{
  font-size:16px;
  font-weight:800;
  margin:0 0 4px 0;
  line-height:1.2;
}
.fc-block-sub{
  color:var(--muted);
  font-size:14px;
  line-height:1.45;
  margin:0;
}
.fc-block-badges{
  display:flex;gap:6px;flex-wrap:wrap;margin-top:8px;
}
.rows{display:flex;flex-direction:column;gap:4px;margin-top:8px;}
.r{display:flex;justify-content:space-between;align-items:center;font-size:13px;padding:4px 0;border-bottom:1px solid var(--line);}
.r:last-child{border-bottom:none;}
details.details{border:1px solid var(--line);border-radius:14px;padding:10px 12px;background:var(--glass);}
details.details summary{cursor:pointer;font-weight:700;font-size:13px;color:var(--muted);user-select:none;list-style:none;display:flex;align-items:center;gap:6px;}
details.details summary::before{content:"▶";font-size:10px;transition:transform .2s;}
details.details[open] summary::before{transform:rotate(90deg);}
details.details summary::-webkit-details-marker{display:none;}

/* ─── FairCar v79: Summary header, barras, tarjetas de marca, VS header ──── */

/* Header VS */
.fc-vs-header{
  display:flex;align-items:center;gap:12px;margin-bottom:14px;
}
.fc-vs-car{flex:1;text-align:center;}
.fc-vs-img{
  width:100%;max-width:180px;height:100px;object-fit:cover;
  border-radius:14px;border:1px solid var(--line);display:block;margin:0 auto;
}
.fc-vs-img-placeholder{
  width:100%;max-width:180px;height:100px;border-radius:14px;
  border:1px solid var(--line);display:flex;align-items:center;justify-content:center;
  font-size:40px;margin:0 auto;background:var(--glass);
}
.fc-vs-name{font-weight:800;font-size:15px;margin-top:7px;}
.fc-vs-price{font-size:22px;font-weight:900;margin-top:3px;}
.fc-vs-sep{font-size:22px;font-weight:900;color:var(--muted);flex:0 0 auto;padding:0 4px;}
@media(max-width:480px){.fc-vs-img,.fc-vs-img-placeholder{height:72px;}.fc-vs-price{font-size:18px;}}

/* Summary pills (3 ganadores de un vistazo) */
.fc-summary-header{
  display:grid;grid-template-columns:repeat(3,1fr);gap:8px;margin-bottom:4px;
}
@media(max-width:540px){.fc-summary-header{grid-template-columns:1fr;}}
.fc-pill{
  border:1px solid var(--line);border-radius:14px;padding:10px 12px;
  background:var(--glass);display:flex;gap:10px;align-items:center;
}
.fc-pill-ico{font-size:20px;flex:0 0 auto;}
.fc-pill-label{font-size:11px;color:var(--muted);font-weight:600;text-transform:uppercase;letter-spacing:.04em;}
.fc-pill-winner{font-size:13px;font-weight:800;margin-top:2px;line-height:1.2;}

/* Barras comparativas */
.fc-bar-row{display:flex;align-items:center;gap:8px;}
.fc-bar-label{font-size:13px;font-weight:600;flex:0 0 110px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}
@media(max-width:480px){.fc-bar-label{flex:0 0 80px;font-size:12px;}}
.fc-bar-track{flex:1;height:8px;border-radius:999px;background:var(--glass);border:1px solid var(--line);overflow:hidden;}
.fc-bar-fill{height:100%;border-radius:999px;background:var(--muted);transition:width .4s;}
.fc-bar-fill.good{background:var(--teal);}
.fc-bar-val{font-size:13px;font-weight:700;flex:0 0 72px;text-align:right;}

/* Motor fit badges */
.fc-motor-fit{
  padding:7px 10px;border-radius:12px;font-size:13px;
  border:1px solid var(--line);background:var(--glass);
}
.fc-motor-fit.good{border-color:rgba(45,212,191,.35);background:rgba(45,212,191,.08);}
.fc-motor-fit.warn{border-color:rgba(251,191,36,.35);background:rgba(251,191,36,.08);}
.fc-motor-fit.bad{border-color:rgba(239,68,68,.35);background:rgba(239,68,68,.08);}

/* Break-even box */
.fc-breakeven{
  display:flex;gap:8px;align-items:flex-start;
  padding:9px 12px;border-radius:12px;margin-top:10px;
  background:rgba(45,212,191,.08);border:1px solid rgba(45,212,191,.25);
  font-size:13px;line-height:1.45;
}
.fc-breakeven-ico{flex:0 0 auto;font-size:18px;}

/* Financiación cards */
.fc-fin-card{
  border:1px solid var(--line);border-radius:14px;padding:10px 12px;background:var(--glass);
}
.fc-fin-name{font-weight:800;font-size:14px;margin-bottom:4px;}
.fc-fin-total{font-size:18px;font-weight:900;}
.fc-fin-sub{font-size:13px;font-weight:400;color:var(--muted);}
.fc-fin-breakdown{
  display:flex;flex-wrap:wrap;gap:6px 14px;margin-top:6px;font-size:12px;color:var(--muted);
}

/* Marca cards con indicadores */
.fc-marca-card{
  border:1px solid var(--line);border-radius:14px;padding:12px;background:var(--glass);
}
.fc-marca-name{font-weight:800;font-size:14px;}
.fc-indica-grid{
  display:grid;grid-template-columns:repeat(3,1fr);gap:8px;margin-top:8px;
}
@media(max-width:480px){.fc-indica-grid{grid-template-columns:1fr 1fr;}}
.fc-indica{display:flex;flex-direction:column;gap:3px;}
.fc-indica-label{font-size:11px;color:var(--muted);font-weight:600;white-space:nowrap;}
.fc-indica-val{font-size:12px;font-weight:700;margin-top:2px;}

/* --- Accessibility & polish (v80.1) --- */
:where(a, button, .btn, .input, select, textarea, summary, .theme-dot, [role="button"]):focus-visible{
  outline:2px solid var(--blue);
  outline-offset:2px;
}
:where(.btn, .theme-dot){
  transition: transform .06s ease, filter .15s ease, background .15s ease, box-shadow .15s ease, border-color .15s ease;
}
:where(.btn, .theme-dot):active{ transform: translateY(1px); }

.input, select{
  min-height:44px;
  transition: border-color .15s ease, box-shadow .15s ease, background .15s ease;
}
.input:focus-visible, select:focus-visible{
  border-color: var(--blueSoftBorder);
  box-shadow: 0 0 0 3px var(--blueSoft2);
  background: var(--glassHover);
}

/* Optional error state (ready for JS validations) */
.input.is-error, select.is-error{
  border-color: rgba(239,68,68,.55);
  box-shadow: 0 0 0 3px rgba(239,68,68,.12);
}

/* Wizard step header */
.stephead{
  display:flex;
  flex-direction:column;
  gap:6px;
  margin:14px 0 6px;
}
.steptitle{
  font-size:18px;
  font-weight:1000;
  letter-spacing:-.2px;
}
.stepmeta{
  font-size:12px;
  color:var(--muted);
}

/* Improve <details> tap target */
details > summary{ cursor:pointer; }
details > summary::-webkit-details-marker{ display:none; }


/* Modal (importar presupuesto) */
.fc-modal-overlay{
  position:fixed;
  inset:0;
  z-index:9999;
  background:rgba(5,11,18,.72);
  display:flex;
  align-items:center;
  justify-content:center;
  padding:16px;
}
.fc-modal-card{
  width:100%;
  max-width:680px;
  background:var(--card);
  border:1px solid var(--line);
  border-radius:22px;
  box-shadow:0 20px 60px rgba(0,0,0,.55);
  overflow:hidden;
}
.fc-modal-head{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:10px;
  padding:16px 16px 10px;
  border-bottom:1px solid var(--line);
}
.fc-modal-title{
  font-weight:1000;
  letter-spacing:-.2px;
}
.fc-modal-body{
  padding:16px;
  max-height:70vh;
  overflow:auto;
}
.fc-progress{
  height:10px;
  border-radius:999px;
  overflow:hidden;
  border:1px solid var(--line);
  background:rgba(255,255,255,.06);
}
.fc-progress-bar{
  height:100%;
  width:0%;
  background:var(--blue);
}
.fc-review-grid{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:10px;
  margin-top:10px;
}
@media (max-width:640px){
  .fc-review-grid{ grid-template-columns:1fr; }
}
